<!doctype html>
<html lang="en-IN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin</title>
  <link rel="icon" href="../assets/logo.png">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
<header class="site-header">
  <img src="../assets/logo.png" class="logo" alt="Club Logo">
  <div class="titles"><h1>Admin Console</h1><p class="subtitle">Approvals • Cancellations • Modifications</p></div>
  <nav><a href="../" class="button ghost">Back</a> <a href="./promotions.html" class="button ghost">Promotions</a></nav>
</header>
<main class="container">
  <section class="card">
    <h2>Pending Requests (Demo)</h2>
    <div class="actions">
      <button id="btnLoad" class="button">Load</button>
      <button id="btnClear" class="button ghost">Clear</button>
    </div>
    <div id="out" class="table-wrap"></div>
  </section>
</main>
<script>
function fmt(d){return new Date(d).toLocaleDateString('en-IN')}
function render(rec){
  if(!rec){document.getElementById('out').innerHTML='<p class="muted">Nothing pending.</p>';return;}
  const h = `<table class="table">
    <tr><th>Member</th><td>${rec.member?.name||'—'} (${rec.member?.id||'Guest'})</td></tr>
    <tr><th>Dates</th><td>${fmt(rec.ci)} → ${fmt(rec.co)}</td></tr>
    <tr><th>Rooms</th><td>${(rec.rooms||[]).join(', ')}</td></tr>
    <tr><th>Pax</th><td>Adults ${rec.pax?.adults||0}, Children ${rec.pax?.children||0}</td></tr>
    <tr><th>Created</th><td>${rec.createdAt}</td></tr>
  </table>`;
  document.getElementById('out').innerHTML = h;
}
document.getElementById('btnLoad').addEventListener('click',()=>{
  const r = JSON.parse(localStorage.getItem('lastBooking')||'null'); render(r);
});
document.getElementById('btnClear').addEventListener('click',()=>{
  localStorage.removeItem('lastBooking'); render(null);
});
</script>
</body>
</html>
